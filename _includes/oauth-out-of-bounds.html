<script language="JavaScript">

var searchQuery = window.location.search.substring(1);
var vars = searchQuery.split('&');

function getQueryVariable(variable) {
    for (var i = 0; i < vars.length; i++) {
        var pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
        }
    }
	return null;
}

if (searchQuery && searchQuery.length >= 1) {
	var oldTitle = (window.document.title === undefined) ? "" : window.document.title;
	var state=getQueryVariable("state");
	var code=getQueryVariable("code");
	var error=getQueryVariable("error") || "unknown";
	
	if (error == null && (state || code)) {
		window.document.title=oldTitle + "?state=" + state + "&code=" + code;
	} else {
		window.document.title=oldTitle + "?error=" + error;
	}
}
else {
	window.document.title=oldTitle + "?error=noquery";
}
</script>
